<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Support Customization | Help Is Hope</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet">
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: { 
              hih: { 
                gold: '#DAA520',
                gray: '#6F7375'
              } 
            }
          }
        }
      }
    </script>
    <style>
      body { 
        font-family: 'Inter', sans-serif; 
        background-color: transparent; 
        margin: 0; 
        padding: 0;
        overflow-x: hidden;
      }
      #root { width: 100%; min-height: 100vh; }
      
      ::-webkit-scrollbar { width: 6px; }
      ::-webkit-scrollbar-track { background: transparent; }
      ::-webkit-scrollbar-thumb { 
        background: #DAA520; 
        border-radius: 10px;
      }
      
      @keyframes fadeIn {
        from { opacity: 0; transform: translateY(10px); }
        to { opacity: 1; transform: translateY(0); }
      }
      #root > div { animation: fadeIn 0.6s ease-out forwards; }
    </style>
    <script type="importmap">
{
  "imports": {
    "react": "https://esm.sh/react@19.0.0",
    "react-dom/client": "https://esm.sh/react-dom@19.0.0/client",
    "lucide-react": "https://esm.sh/lucide-react@0.460.0",
    "react-dom/": "https://esm.sh/react-dom@^19.2.3/",
    "react/": "https://esm.sh/react@^19.2.3/"
  }
}
</script>
</head>
<body>
    <div id="root"></div>

    <script type="module">
      import React, { useState, useMemo } from 'react';
      import { createRoot } from 'react-dom/client';
      import { Check, ArrowRight, Sparkles } from 'lucide-react';

      const ServiceTier = {
        BASE: 'BASE',
        ENHANCED: 'ENHANCED',
        HYBRID: 'HYBRID'
      };

      const TIERS = [
        {
          id: ServiceTier.BASE,
          name: 'Self-Starter Support',
          price: 0,
          duration: 'Self-Paced',
          description: 'Digital assessment with resources and an action plan emailed within minutes.',
          features: [
            'Personalized Digital Assessment',
            'Instant Email Action Plan',
            'Curated Resources & Tools',
            'Front Desk Check-in Only'
          ]
        },
        {
          id: ServiceTier.ENHANCED,
          name: 'Enhanced Personalized Session',
          price: 9,
          duration: '15 Min',
          description: '1:1 Support with a Certified Peer Specialist for focused personal guidance.',
          features: [
            'Self-Starter access included',
            '1:1 Certified Peer Specialist',
            '15-min human-led session',
            'Lived Experience insights'
          ]
        },
        {
          id: ServiceTier.HYBRID,
          name: 'Hybrid Support Session',
          price: 18,
          duration: '30 Min',
          description: 'Person-Led Peer Support Smart Session with AI Assistance and a Digital Summary Report.',
          features: [
            'Enhanced access included',
            '30-min human + AI session',
            'Smart Session Technology',
            'Detailed Digital Report'
          ]
        }
      ];

      const App = () => {
        const [selectedTier, setSelectedTier] = useState(ServiceTier.BASE);
        const currentTier = useMemo(() => TIERS.find(t => t.id === selectedTier), [selectedTier]);

const handleConfirm = () => {
      // Create plan identifier for URL
      const planId = selectedTier.toLowerCase();
      const serviceId = new URLSearchParams(window.location.search).get('serviceId') || 'life-navigation-launchpad-1';
      
      // Build booking URL with plan parameters
      const bookingUrl = `https://www.helpishope.org/service-page/life-navigation-launchpad-1?serviceId=${serviceId}&plan=${planId}&tierName=${encodeURIComponent(currentTier.name)}&price=${currentTier.price}`;
      
    // Navigate parent page directly (works in iframe)
    try {
        window.top.location.href = bookingUrl;
    } catch (e) {
        // Fallback if top access is blocked
        window.location.href = bookingUrl;
    }

        return React.createElement('div', { className: "min-h-screen bg-transparent font-sans antialiased text-black p-4 md:p-6" },
          React.createElement('div', { className: "max-w-6xl mx-auto space-y-6" },
            
            // Header
            React.createElement('div', { className: "text-center space-y-3 max-w-2xl mx-auto" },
              React.createElement('h1', { className: "text-3xl md:text-5xl font-black tracking-tighter text-gray-900 leading-tight" },
                "Choose Your ", React.createElement('br'),
                React.createElement('span', { className: "text-hih-gold text-nowrap" }, "Support Level")
              ),
              React.createElement('p', { className: "text-gray-500 font-medium leading-relaxed text-sm md:text-base px-4" },
                "Every service starts at $0 to ensure absolute access. Choose the interaction level that suits your journey."
              )
            ),

            // Tier Grid
            React.createElement('div', { className: "grid grid-cols-1 md:grid-cols-3 gap-6 items-stretch px-2" },
              TIERS.map((tier) => 
                React.createElement('div', {
                  key: tier.id,
                  onClick: () => setSelectedTier(tier.id),
                  className: `relative flex flex-col p-6 md:p-8 rounded-[2rem] border-2 transition-all duration-500 cursor-pointer ${
                    selectedTier === tier.id 
                    ? 'border-hih-gold bg-white shadow-xl scale-[1.02] z-10' 
                    : 'border-transparent bg-gray-50/70 hover:bg-white hover:shadow-md'
                  }`
                },
                  tier.id === ServiceTier.HYBRID && React.createElement('div', { className: "absolute -top-3 left-1/2 -translate-x-1/2 bg-black text-white px-4 py-1.5 rounded-full flex items-center gap-2 text-[9px] font-black uppercase tracking-widest shadow-lg whitespace-nowrap" },
                    React.createElement(Sparkles, { className: "w-3 h-3 text-hih-gold" }), " Most Recommended"
                  ),
                  React.createElement('span', { className: "text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] mb-3 block text-center" }, tier.duration + " Access"),
                  React.createElement('h3', { className: "font-black text-xl text-black mb-1 text-center leading-tight tracking-tight" }, tier.name),
                  React.createElement('div', { className: "my-2 text-center" },
                    React.createElement('span', { className: "text-5xl font-black text-hih-gold tracking-tighter" }, "$" + tier.price)
                  ),
                  React.createElement('p', { className: "text-sm font-medium text-gray-600 mb-6 text-center leading-relaxed h-16 flex items-center justify-center px-4" }, tier.description),
                  React.createElement('div', { className: "space-y-4 flex-grow border-t border-gray-100 pt-6" },
                    tier.features.map((feature, i) => 
                      React.createElement('div', { key: i, className: "flex items-start gap-3" },
                        React.createElement('div', { className: `w-6 h-6 rounded-full flex items-center justify-center shrink-0 mt-0.5 ${selectedTier === tier.id ? 'bg-hih-gold/10' : 'bg-gray-200'}` },
                          React.createElement(Check, { className: `w-3.5 h-3.5 ${selectedTier === tier.id ? 'text-hih-gold' : 'text-gray-400'}`, strokeWidth: 3 })
                        ),
                        React.createElement('span', { className: "text-[13px] font-semibold text-gray-700 uppercase tracking-tight leading-snug" }, feature)
                      )
                    )
                  ),
                  React.createElement('div', { className: "mt-6" },
                    React.createElement('div', { className: `w-full py-4 rounded-xl font-black text-[11px] uppercase tracking-[0.2em] transition-all text-center ${
                      selectedTier === tier.id 
                      ? 'bg-hih-gold text-white shadow-md' 
                      : 'bg-gray-200 text-gray-400 hover:bg-gray-300'
                    }` }, selectedTier === tier.id ? 'Selected' : 'Select')
                  )
                )
              )
            ),

            // Footer
            React.createElement('div', { className: "flex flex-col items-center gap-4 pt-8 border-t border-gray-100" },
              React.createElement('button', {
                onClick: handleConfirm,
                className: "group relative flex items-center gap-4 bg-hih-gold text-white px-16 py-5 rounded-full font-black uppercase text-xl tracking-[0.2em] shadow-xl hover:bg-black transition-all duration-300 active:scale-95 overflow-hidden"
              },
                React.createElement('div', { className: "absolute inset-0 w-full h-full bg-gradient-to-r from-white/10 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-700" }),
                React.createElement('span', { className: "relative" }, "Book Now"),
                React.createElement(ArrowRight, { className: "w-6 h-6 relative group-hover:translate-x-1 transition-transform", strokeWidth: 3 })
              ),
              React.createElement('p', { className: "text-[9px] font-bold text-gray-300 uppercase tracking-[0.2em]" }, "Securely managed by Help Is Hope")
            )
          )
        );
      };

      const root = createRoot(document.getElementById('root'));
      root.render(React.createElement(App));
    </script>
</body>
</html>
